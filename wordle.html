<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta
      name="naver-site-verification"
      content="159d3af9f42384954c5dd18b253e634f1b5afaee"
    />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6262009230672293"
      crossorigin="anonymous"
    ></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ˜Umazing</title>
  </head>
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="stylesheet" href="./css/font.css" />
  <link rel="stylesheet" href="./css/nav.css" />
  <link rel="stylesheet" href="./css/buttons.css" />
  <style>
    input {
      width: 45px;
      height: 45px;
      font-size: 30px;
      text-align: center;
    }
    .inputs {
      margin: 20px;
    }

    @media (max-width: 600px) {
      input {
        font-size: 1.5rem;
      }
    }
  </style>
  <body>
    <div class="container">
      <header>
        <span id="logo"><a href="index.html">ğŸ˜Umazing</a></span>
        <span id="menus">
          | <a href="test.html">ğŸ§˜ì² í•™ì í…ŒìŠ¤íŠ¸</a> |
          <a href="wordle.html">ğŸ™ˆë‹¨ì–´ ë§ì¶”ê¸°</a> |</span
        >
        <span id="hbgBtn"> <a id="bagmenu">ğŸ’¼</a></span>
        <nav id="dropdownMenu" style="display: none">
          <a href="test.html">ğŸ§˜ì² í•™ì í…ŒìŠ¤íŠ¸</a>
          <a href="wordle.html">ğŸ™ˆë‹¨ì–´ ë§ì¶”ê¸°</a>
        </nav>
      </header>
      <section class="main">
        <div class="content">
          <button type="button" class="submit btn-two green rounded">
            ì •ë‹µì¸ê°€?</button
          ><br />
          <p class="tryNum">ì‹œë„íšŸìˆ˜: 0</p>
          <input
            type="text"
            class="input"
            maxlength="1"
            oninput="checkKorean(this)"
          />
          <input
            type="text"
            class="input"
            maxlength="1"
            oninput="checkKorean(this)"
          />
          <input
            type="text"
            class="input"
            maxlength="1"
            oninput="checkKorean(this)"
          />
          <input
            type="text"
            class="input"
            maxlength="1"
            oninput="checkKorean(this)"
          />
          <input
            type="text"
            class="input"
            maxlength="1"
            oninput="checkKorean(this)"
          />
        </div>
      </section>
      <footer></footer>
    </div>
    <script src="./js/main.js"></script>
    <script src="./js/nav.js"></script>
    <script>
      var submit = document.querySelector(".submit");
      var tryNum = 1;
      function getRandomAnswer() {
        var answerList = [
          ["ã……", "ã…£", "ã„±", "ã……", "ã…"],
          ["ã„±", "ã…", "ã…", "ã……", "ã…"],
          ["ã…‹", "ã…”", "ã…‡", "ã…£", "ã…‹"],
          ["ã…Œ", "ã…", "ã……", "ã…£", "ã„±"],
          ["ã…‡", "ã…•", "ã„¹", "ã…¡", "ã…"],
          ["ã…‡", "ã…“", "ã…", "ã…", "ã…"],
          ["ã…", "ã…“", "ã„±", "ã…‡", "ã…£"],

          ["ã„±", "ã…", "ã…", "ã…ˆ", "ã…"],
          // ë‹¤ë¥¸ ë¦¬ìŠ¤íŠ¸ë“¤ë„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ
        ];

        // 0 ì´ìƒ ë‹µì˜ê¸¸ì´ ë¯¸ë§Œì˜ ëœë¤ ì •ìˆ˜ë¥¼ êµ¬í•©ë‹ˆë‹¤.
        var randIndex = Math.floor(Math.random() * answerList.length);

        // ëœë¤ìœ¼ë¡œ ì„ íƒëœ ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        return answerList[randIndex];
      }
      // getRandomAnswer í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ëœë¤í•œ ë‹µì„ ì–»ìŠµë‹ˆë‹¤.
      var randAnswer = getRandomAnswer();
      console.log(randAnswer);

      submit.addEventListener("click", function () {
        var input = document.querySelectorAll(".input");
        var ë‹µ = randAnswer;
        var answerCount = 0;
        document.querySelector(".tryNum").innerText = "ì‹œë„íšŸìˆ˜ : " + tryNum;
        console.log(ë‹µ);
        for (i in ë‹µ) {
          if (input[i].value == ë‹µ[i]) {
            answerCount++;
            console.log(answerCount);
            input[i].style.background = "green";
          } else if (ë‹µ.includes(input[i].value)) {
            input[i].style.background = "yellow";
          } else {
            input[i].style.background = "gray";
          }
          input[i].classList.remove("input");
        }
        if (answerCount == 5) {
          document.querySelector(".tryNum").innerText =
            "ì •ë‹µì…ë‹ˆë‹¤!!!! ì‹œë„íšŸìˆ˜: " + tryNum;

          var templateBtn = `<br/><button class="btn-two red rounded" onclick="regame()">ë‹¤ì‹œí•˜ê¸°</button><button class="btn-two yellow rounded" onclick="regame">ê³µìœ í•˜ê¸°</button>`;

          document
            .querySelector(".content")
            .insertAdjacentHTML("beforeend", templateBtn);
        } else {
          tryNum++;

          var template = `<div class="inputs">
          <input type="text" class="input" maxlength="1" oninput="checkKorean(this)"/>
          <input type="text" class="input" maxlength="1" oninput="checkKorean(this)"/>
          <input type="text" class="input" maxlength="1" oninput="checkKorean(this)"/>
          <input type="text" class="input" maxlength="1" oninput="checkKorean(this)"/>
          <input type="text" class="input" maxlength="1" oninput="checkKorean(this)"/>
          </div>`;
          document
            .querySelector(".content")
            .insertAdjacentHTML("beforeend", template);
        }
      });
      function regame() {
        location.reload();
      }
      function checkKorean(inputElement) {
        // ì…ë ¥ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
        const inputValue = inputElement.value;

        // í•œê¸€ ì •ê·œì‹ì„ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ê°’ì´ í•œê¸€ì¸ì§€ ê²€ì‚¬í•©ë‹ˆë‹¤.
        const koreanRegex = /^[ã„±-ã…ã…-ã…£ê°€-í£]*$/;
        if (!koreanRegex.test(inputValue)) {
          // í•œê¸€ì´ ì•„ë‹Œ ê²½ìš°, ì…ë ¥ê°’ì—ì„œ í•œê¸€ì´ ì•„ë‹Œ ë¬¸ìë¥¼ ì œê±°í•©ë‹ˆë‹¤.
          inputElement.value = inputValue.replace(/[ã„±-ã…ã…-ã…£ê°€-í£]/g, "");
        } else {
          // ì…ë ¥ê°’ì´ í•œê¸€ì¸ ê²½ìš°ì—ë§Œ ë‹¤ìŒ input ìš”ì†Œë¡œ í¬ì»¤ìŠ¤ë¥¼ ì´ë™í•©ë‹ˆë‹¤.
          if (inputValue.length === inputElement.maxLength) {
            const inputs = document.querySelectorAll(".input");
            const currentIndex = Array.from(inputs).indexOf(inputElement);
            if (currentIndex !== -1 && currentIndex + 1 < inputs.length) {
              inputs[currentIndex + 1].focus();
            }
          }
        }
      }
    </script>
  </body>
</html>
